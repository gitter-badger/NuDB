#
# Copyright (c) 2015-2016 Vinnie Falco (vinnie dot falco at gmail dot com)
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#

path-constant DEPS : ../deps ;
path-constant XXHASH : $(DEPS)/xxHash/xxhash.c ;
path-constant ROCKSDB_LIB : $(DEPS)/rocksdb/librocksdb.a ;

make $(ROCKSDB_LIB) : : @make_rocks ;
actions make_rocks
{
    cd ../deps/rocksdb && make static_lib -j6
}

exe benchmark :
    $(XXHASH)
    benchmark.cpp
    :
    :
    <library>/boost/thread//boost_thread
    <include>$(DEPS)
    <include>$(DEPS)/rocksdb
    <include>$(DEPS)/rocksdb/include
    <include>$(DEPS)/rocksdb/third-party/gtest-1.7.0/fused-src
    ;
